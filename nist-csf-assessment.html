<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NIST Cybersecurity Framework Assessment Tool</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            margin: 20px; 
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1 { 
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
        }
        h2 { 
            margin-top: 40px; 
            color: #34495e;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
            margin-bottom: 15px;
            font-size: 1.1em;
        }
        label { 
            font-weight: bold; 
            display: block; 
            margin-top: 15px; 
            color: #34495e;
        }
        select, textarea { 
            width: 100%; 
            padding: 8px; 
            margin-top: 5px; 
            border: 1px solid #bdc3c7;
            border-radius: 4px;
            font-size: 14px;
        }
        select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 5px rgba(52, 152, 219, 0.3);
        }
        textarea { 
            height: 80px; 
            resize: vertical;
            font-family: Arial, sans-serif;
        }
        .function-block { 
            border: 2px solid #ecf0f1; 
            padding: 25px; 
            margin-bottom: 30px; 
            border-radius: 8px;
            background-color: #fdfdfd;
        }
        .category-block {
            border-left: 4px solid #3498db;
            padding-left: 20px;
            margin: 20px 0;
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 0 6px 6px 0;
        }
        .btn { 
            margin: 20px 10px 20px 0; 
            padding: 12px 25px; 
            font-size: 16px; 
            cursor: pointer; 
            border: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }
        .btn-primary {
            background-color: #3498db;
            color: white;
        }
        .btn-primary:hover {
            background-color: #2980b9;
        }
        .btn-success {
            background-color: #27ae60;
            color: white;
        }
        .btn-success:hover {
            background-color: #229954;
        }
        pre { 
            background: #2c3e50; 
            color: #ecf0f1;
            padding: 20px; 
            overflow-x: auto; 
            border-radius: 6px;
            font-size: 12px;
        }
        .function-identify { border-left-color: #e74c3c; }
        .function-protect { border-left-color: #f39c12; }
        .function-detect { border-left-color: #f1c40f; }
        .function-respond { border-left-color: #9b59b6; }
        .function-recover { border-left-color: #27ae60; }
        
        .maturity-legend {
            background-color: #ecf0f1;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 14px;
        }
        .maturity-legend h4 {
            margin-top: 0;
            color: #2c3e50;
        }
        .score-summary {
            position: sticky;
            top: 20px;
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 6px;
            margin-bottom: 20px;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background-color: #ecf0f1;
            border-radius: 10px;
            overflow: hidden;
            margin-top: 5px;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #f1c40f, #27ae60);
            transition: width 0.3s ease;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NIST Cybersecurity Framework 2.0 Assessment Tool</h1>
        
        <div class="maturity-legend">
            <h4>Assessment Scoring Guide</h4>
            <strong>Overall Maturity:</strong> Not Implemented → Partially Implemented → Substantially Implemented → Fully Implemented<br>
            <strong>Intent & Relevance:</strong> Not Understood → Partially Understood → Fully Understood<br>
            <strong>Implementation:</strong> No Implementation → Ad-hoc → Repeatable → Optimized<br>
            <strong>Evidence:</strong> None → Limited → Adequate → Comprehensive<br>
            <strong>Effectiveness:</strong> Ineffective → Needs Improvement → Effective → Highly Effective
        </div>

        <div class="score-summary" id="scoreSummary">
            <h4>Assessment Progress</h4>
            <div id="overallProgress">Overall Completion: 0%</div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
        </div>

        <div id="assessment-form">
            
            <!-- IDENTIFY FUNCTION -->
            <div class="function-block function-identify" data-function="identify">
                <h2>IDENTIFY (ID) - Develop organizational understanding of cybersecurity risks</h2>
                
                <div class="category-block" data-category="ID.AM">
                    <h3>ID.AM - Asset Management</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Key findings: asset inventory completeness, classification accuracy, ownership clarity..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Asset registers, CMDB entries, classification schemes, data flow diagrams..."></textarea>
                </div>

                <div class="category-block" data-category="ID.RA">
                    <h3>ID.RA - Risk Assessment</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Risk assessment methodology, threat landscape understanding, vulnerability management..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Risk registers, threat assessments, vulnerability scans, risk treatment plans..."></textarea>
                </div>

                <div class="category-block" data-category="ID.RM">
                    <h3>ID.RM - Risk Management Strategy</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Risk tolerance, appetite statements, governance framework, decision processes..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Risk policies, governance documents, risk appetite statements, board reporting..."></textarea>
                </div>
            </div>

            <!-- PROTECT FUNCTION -->
            <div class="function-block function-protect" data-function="protect">
                <h2>PROTECT (PR) - Develop and implement appropriate safeguards</h2>
                
                <div class="category-block" data-category="PR.AC">
                    <h3>PR.AC - Identity Management, Authentication and Access Control</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Identity management, MFA implementation, privileged access, access reviews..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="IAM policies, access control matrices, MFA logs, privileged access reviews..."></textarea>
                </div>

                <div class="category-block" data-category="PR.DS">
                    <h3>PR.DS - Data Security</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Data classification, encryption, DLP, data retention, disposal processes..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Data classification schemes, encryption policies, DLP logs, disposal certificates..."></textarea>
                </div>

                <div class="category-block" data-category="PR.IP">
                    <h3>PR.IP - Information Protection Processes and Procedures</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Security policies, procedures, baselines, configuration management, patch management..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Policy documents, configuration baselines, patch logs, change management records..."></textarea>
                </div>

                <div class="category-block" data-category="PR.PT">
                    <h3>PR.PT - Protective Technology</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Technical security controls, firewalls, antimalware, network segmentation, logging..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Security tool configurations, firewall rules, antimalware reports, network diagrams..."></textarea>
                </div>
            </div>

            <!-- DETECT FUNCTION -->
            <div class="function-block function-detect" data-function="detect">
                <h2>DETECT (DE) - Develop and implement activities to identify cybersecurity events</h2>
                
                <div class="category-block" data-category="DE.AE">
                    <h3>DE.AE - Anomalies and Events</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Event detection capabilities, baseline understanding, anomaly detection..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="SIEM configurations, detection rules, baseline documentation, event logs..."></textarea>
                </div>

                <div class="category-block" data-category="DE.CM">
                    <h3>DE.CM - Security Continuous Monitoring</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Continuous monitoring strategy, network monitoring, system monitoring, personnel monitoring..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Monitoring procedures, tool configurations, monitoring dashboards, coverage maps..."></textarea>
                </div>

                <div class="category-block" data-category="DE.DP">
                    <h3>DE.DP - Detection Processes</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Detection processes, testing procedures, roles and responsibilities, communications..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Detection procedures, testing results, communication plans, role definitions..."></textarea>
                </div>
            </div>

            <!-- RESPOND FUNCTION -->
            <div class="function-block function-respond" data-function="respond">
                <h2>RESPOND (RS) - Develop and implement appropriate activities regarding detected cybersecurity incidents</h2>
                
                <div class="category-block" data-category="RS.RP">
                    <h3>RS.RP - Response Planning</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Incident response plan, roles and responsibilities, communication procedures..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="IR plans, role matrices, communication templates, escalation procedures..."></textarea>
                </div>

                <div class="category-block" data-category="RS.CO">
                    <h3>RS.CO - Communications</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Internal and external communication protocols, stakeholder coordination..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Communication plans, stakeholder lists, notification procedures, regulatory requirements..."></textarea>
                </div>

                <div class="category-block" data-category="RS.AN">
                    <h3>RS.AN - Analysis</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Incident analysis capabilities, forensics, impact assessment, lessons learned..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Analysis procedures, forensic tools, impact assessments, lesson learned reports..."></textarea>
                </div>

                <div class="category-block" data-category="RS.MI">
                    <h3>RS.MI - Mitigation</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Containment strategies, eradication procedures, mitigation effectiveness..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Containment procedures, mitigation tools, effectiveness metrics, response logs..."></textarea>
                </div>
            </div>

            <!-- RECOVER FUNCTION -->
            <div class="function-block function-recover" data-function="recover">
                <h2>RECOVER (RC) - Develop and implement appropriate activities to maintain resilience</h2>
                
                <div class="category-block" data-category="RC.RP">
                    <h3>RC.RP - Recovery Planning</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Recovery plan completeness, testing frequency, update procedures..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Recovery plans, testing schedules, test results, plan updates..."></textarea>
                </div>

                <div class="category-block" data-category="RC.IM">
                    <h3>RC.IM - Improvements</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Continuous improvement process, lessons learned integration, capability enhancement..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Improvement procedures, lessons learned, enhancement projects, maturity tracking..."></textarea>
                </div>

                <div class="category-block" data-category="RC.CO">
                    <h3>RC.CO - Communications</h3>
                    <label>Overall Maturity</label>
                    <select class="maturity">
                        <option value="0">Not Implemented</option>
                        <option value="1">Partially Implemented</option>
                        <option value="2">Substantially Implemented</option>
                        <option value="3">Fully Implemented</option>
                        <option value="N/A">Not Applicable</option>
                    </select>
                    
                    <label>Intent & Relevance</label>
                    <select class="intent">
                        <option value="0">Not Understood</option>
                        <option value="1">Partially Understood</option>
                        <option value="2">Fully Understood</option>
                    </select>
                    
                    <label>Implementation Approach</label>
                    <select class="implementation">
                        <option value="0">No Implementation</option>
                        <option value="1">Ad-hoc</option>
                        <option value="2">Repeatable</option>
                        <option value="3">Optimized</option>
                    </select>
                    
                    <label>Evidence Quality</label>
                    <select class="evidence">
                        <option value="0">None</option>
                        <option value="1">Limited</option>
                        <option value="2">Adequate</option>
                        <option value="3">Comprehensive</option>
                    </select>
                    
                    <label>Effectiveness</label>
                    <select class="effectiveness">
                        <option value="0">Ineffective</option>
                        <option value="1">Needs Improvement</option>
                        <option value="2">Effective</option>
                        <option value="3">Highly Effective</option>
                    </select>
                    
                    <label>Summary Assessment</label>
                    <textarea class="summary" placeholder="Recovery communications, stakeholder updates, public relations..."></textarea>
                    
                    <label>Evidence / Notes</label>
                    <textarea class="notes" placeholder="Communication templates, stakeholder contact lists, public relations plans..."></textarea>
                </div>
            </div>
        </div>

        <button type="button" class="btn btn-primary" onclick="generateReport()">Generate Assessment Report</button>
        <button type="button" class="btn btn-success" onclick="exportData()">Export Data (JSON)</button>
        <button type="button" class="btn btn-success" onclick="importData()">Import Data</button>
        <input type="file" id="fileImport" style="display:none" accept=".json" onchange="handleImport(event)">

        <div id="results" style="margin-top: 30px;"></div>
    </div>

    <script>
        // Calculate and update progress
        function updateProgress() {
            const allSelects = document.querySelectorAll('select.maturity');
            const completed = Array.from(allSelects).filter(select => select.value && select.value !== "0").length;
            const total = allSelects.length;
            const percentage = Math.round((completed / total) * 100);
            
            document.getElementById('overallProgress').textContent = `Overall Completion: ${percentage}%`;
            document.getElementById('progressFill').style.width = percentage + '%';
        }

        // Add event listeners to all selects
        document.addEventListener('DOMContentLoaded', function() {
            const allSelects = document.querySelectorAll('select');
            allSelects.forEach(select => {
                select.addEventListener('change', updateProgress);
            });
            updateProgress(); // Initial calculation
        });

        function generateReport() {
            const functions = ['identify', 'protect', 'detect', 'respond', 'recover'];
            let report = '<h2>NIST CSF Assessment Report</h2>';
            
            let overallScore = 0;
            let totalCategories = 0;
            
            functions.forEach(func => {
                const functionElement = document.querySelector(`[data-function="${func}"]`);
                const categories = functionElement.querySelectorAll('.category-block');
                
                report += `<h3>${func.toUpperCase()} Function</h3>`;
                
                let functionScore = 0;
                let functionCategories = 0;
                
                categories.forEach(category => {
                    const categoryName = category.getAttribute('data-category');
                    const maturity = category.querySelector('.maturity').value;
                    const intent = category.querySelector('.intent').value;
                    const implementation = category.querySelector('.implementation').value;
                    const evidence = category.querySelector('.evidence').value;
                    const effectiveness = category.querySelector('.effectiveness').value;
                    const summary = category.querySelector('.summary').value;
                    
                    if (maturity && maturity !== 'N/A') {
                        const scores = [maturity, intent, implementation, evidence, effectiveness]
                            .map(val => val === 'N/A' ? 0 : parseInt(val) || 0);
                        const avgScore = scores.reduce((a, b) => a + b, 0) / scores.length;
                        
                        functionScore += avgScore;
                        functionCategories++;
                        totalCategories++;
                        
                        report += `<p><strong>${categoryName}:</strong> ${getMaturityText(maturity)} (Score: ${avgScore.toFixed(1)}/3.0)</p>`;
                        if (summary) {
                            report += `<p><em>${summary}</em></p>`;
                        }
                    }
                });
                
                if (functionCategories > 0) {
                    const avgFunctionScore = functionScore / functionCategories;
                    overallScore += avgFunctionScore;
                    report += `<p><strong>Function Average: ${avgFunctionScore.toFixed(1)}/3.0 (${getMaturityLevel(avgFunctionScore)})</strong></p>`;
                }
                
                report += '<hr>';
            });
            
            if (totalCategories > 0) {
                const finalScore = overallScore / functions.length;
                report = `<h2>Overall NIST CSF Maturity: ${finalScore.toFixed(1)}/3.0 (${getMaturityLevel(finalScore)})</h2>` + report;
            }
            
            document.getElementById('results').innerHTML = report;
        }

        function getMaturityText(value) {
            const texts = {
                '0': 'Not Implemented',
                '1': 'Partially Implemented',
                '2': 'Substantially Implemented',
                '3': 'Fully Implemented',
                'N/A': 'Not Applicable'
            };
            return texts[value] || 'Not Selected';
        }

        function getMaturityLevel(score) {
            if (score >= 2.5) return 'Advanced';
            if (score >= 1.5) return 'Intermediate';
            if (score >= 0.5) return 'Basic';
            return 'Initial';
        }

        function exportData() {
            const data = {};
            
            document.querySelectorAll('.category-block').forEach(category => {
                const categoryName = category.getAttribute('data-category');
                data[categoryName] = {
                    maturity: category.querySelector('.maturity').value,
                    intent: category.querySelector('.intent').value,
                    implementation: category.querySelector('.implementation').value,
                    evidence: category.querySelector('.evidence').value,
                    effectiveness: category.querySelector('.effectiveness').value,
                    summary: category.querySelector('.summary').value,
                    notes: category.querySelector('.notes').value
                };
            });
            
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `nist-csf-assessment-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function importData() {
            document.getElementById('fileImport').click();
        }

        function handleImport(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const data = JSON.parse(e.target.result);
                    
                    Object.keys(data).forEach(categoryName => {
                        const category = document.querySelector(`[data-category="${categoryName}"]`);
                        if (category) {
                            const categoryData = data[categoryName];
                            Object.keys(categoryData).forEach(field => {
                                const element = category.querySelector(`.${field}`);
                                if (element) {
                                    element.value = categoryData[field];
                                }
                            });
                        }
                    });
                    
                    updateProgress();
                    alert('Data imported successfully!');
                } catch (error) {
                    alert('Error importing data: ' + error.message);
                }
            };
            reader.readAsText(file);
        }
    </script>
</body>
</html>